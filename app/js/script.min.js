angular.module("MakerCreatorStudio",["MakerJS"]).controller("MainCtrl",["$scope","Shape","Material",function(a,b,c){a.materials=[],a.materials.push(new c(1,"Ground","6d574c")),a.materials.push(new c(2,"Concrete","d5d2cd")),a.shapes=[],a.shapes.push(new b(1,"r",200,200,4,a.materials[0])),a.shapes.push(new b(2,"r",100,100,100,a.materials[1])),a.selectedShape=a.shapes[0],a.controls={perspective:{x:-20,y:-55,z:0},type:a.selectedShape.type,width:a.selectedShape.width,height:a.selectedShape.height,depth:a.selectedShape.depth,material_index:0},a.select=function(b){a.shapes.forEach(function(c){return c==b?(console.log("set",b),a.selectedShape=b,!1):void 0})},a.$watchGroup(["controls.width","controls.height","controls.depth","controls.material_index"],function(){d()});var d=function(){a.selectedShape.width=a.controls.width,a.selectedShape.height=a.controls.height,a.selectedShape.depth=a.controls.depth,a.selectedShape.material=a.materials[a.controls.material_index]};a.$watchGroup(["selectedShape"],function(){e()});var e=function(){a.controls.width=a.selectedShape.width,a.controls.height=a.selectedShape.height,a.controls.depth=a.selectedShape.depth,a.controls.material_index=a.selectedShape.material.id-1}}]).directive("makeCompass",function(){return{restrict:"E",scope:{controls:"=controls"},transclude:!0,replace:!0,template:"<div class = 'compass' ng-style = 'style'><div class = 'axis'><span>X</span></div><div class = 'axis'><span>Z</span></div><div class = 'axis'><span>Y</span></div></div>",controller:function(a){a.$watchGroup(["controls.perspective.x","controls.perspective.y","controls.perspective.z"],function(){b()});var b=function(){a.style={webkitTransform:"rotateX("+a.controls.perspective.x+"deg) rotateY("+a.controls.perspective.y+"deg) rotateZ("+a.controls.perspective.z+"deg)"}}}}});